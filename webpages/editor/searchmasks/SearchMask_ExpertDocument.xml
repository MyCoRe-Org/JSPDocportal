<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MyCoReWebPage>
<MyCoReWebPage>
<section title="Searchmask Expert Document" xml:lang="de">
<editor id="SearchMask_ExpertDocument">
  <validationMessage>
      <label xml:lang="de">
        Eingabefehler: Bitte korrigieren Sie die markierten Felder 
      </label>              
      <label xml:lang="en">
        input error: Please correct the highlighted items
      </label>                    
  </validationMessage>

<source url="request:servlets/MCRJSPSearchServlet?mode=load&amp;id={ID}" token="{ID}"/>
<!-- <source url="request:servlets/MCRJSPSearchServlet?mode=load&amp;id=[ID]" token="[ID]"/> -->
<target type="servlet" url="/servlets/MCRJSPSearchServlet" method="post" format="xml" />

  <components root="SearchMask_ExpertDocument" var="/query">  
    <include uri="webapp:editor/searchmasks/imports-searchmasks-common.xml"/>	  
	 
    <panel id="SearchMask_ExpertDocument" lines="off">
      <hidden var="@mask" default="~searchstart-extended" />
      <hidden var="conditions/@format" default="xml" />

      <!-- Search only for object type document -->
      <!-- 
      <hidden var="conditions/boolean/condition1/@field"    default="objectType" />
      <hidden var="conditions/boolean/condition1/@operator" default="=" />
      <hidden var="conditions/boolean/condition1/@value"    default="document" />
      -->

      <!-- Alternatively: search for both object types document or disshab  -->      
      <hidden var="conditions/boolean/boolean/@operator" default="or" />
      <hidden var="conditions/boolean/boolean/condition/@field"    default="objectType" />
      <hidden var="conditions/boolean/boolean/condition/@operator" default="=" />
      <hidden var="conditions/boolean/boolean/condition/@value"    default="document" />
      <hidden var="conditions/boolean/boolean/condition[2]/@field"    default="objectType" />
      <hidden var="conditions/boolean/boolean/condition[2]/@operator" default="=" />
      <hidden var="conditions/boolean/boolean/condition[2]/@value"    default="disshab" />
      
      <!-- Search in metadata fields that are text -->
      <cell row="1" col="1" colspan="4" anchor="NORTHWEST" var="conditions/boolean/condition2">
        <repeater min="1" max="10">
          <panel lines="off">
            <cell row="1" col="1" anchor="WEST" var="@field">
              <list type="dropdown" default="title" width="110px">
                <item value="title" i18n="Editor.Document.title" />
                <item value="keywords" i18n="Editor.Document.keyword" />
                <item value="description" i18n="Editor.Document.descript" />
                <item value="source" i18n="Editor.Document.source" />
                <item value="coverage" i18n="Editor.Document.coverage" />
                <item value="rights" i18n="Editor.Document.rights" />
                <item value="relation" i18n="Editor.Document.relation" />
                <item value="allMeta" i18n="Editor.Search.metadata" />
              </list>
            </cell>
            <cell row="1" col="2" anchor="WEST" var="@operator" ref="list.operators.text" />
            <cell row="1" col="3" anchor="WEST" var="@value">
              <textfield width="40" />
            </cell>
          </panel>
        </repeater>
      </cell>
      
      <!-- Search in metadata fields that are names -->
      <cell row="2" col="1" colspan="4" anchor="NORTHWEST" var="conditions/boolean/condition3">
        <repeater min="1" max="10">
          <panel lines="off">
            <cell row="1" col="1" anchor="WEST" var="@field">
              <list type="dropdown" default="author" width="110px">
                <item value="creator" i18n="Editor.Document.creator"/>
                <item value="publisher" i18n="Editor.Document.publisher"/>
                <item value="contributor" i18n="Editor.Document.contributor"/>
              </list>
            </cell>
            <cell row="1" col="2" anchor="WEST" var="@operator">
              <list type="dropdown" default="contains">
                <item value="contains" i18n="Editor.Search.contains"/>
                <item value="like" i18n="Editor.Search.like"/>
                <item value="="     label="="     />
                <item value="&gt;"  label="&gt;"  />
                <item value="&gt;=" label="&gt;=" />
                <item value="&lt;"  label="&lt;"  />
                <item value="&lt;=" label="&lt;=" />
              </list>
            </cell>
            <cell row="1" col="3" anchor="WEST" var="@value">
              <textfield width="40" />
            </cell>
          </panel>
        </repeater>
      </cell>
      
      <cell row="3" col="1" colspan="2" anchor="NORTHWEST" >
      <panel>
        <hidden var="conditions/boolean/condition4/@field" default="identifier" />

        <!-- Search in field "origin" -->
        <cell row="1" col="1"  anchor="NORTHEAST" ref="LOrigins" />     
        <cell row="1" col="2" anchor="NORTHWEST" ref="DOrigins" var="conditions/boolean/condition5" />
      
        <!-- Search in field "subject" with operator "=" -->
        <cell row="2" col="1" anchor="NORTHEAST" ref="LSubjects" />     
        <cell row="2" col="2"  anchor="NORTHWEST" ref="DSubjects" var="conditions/boolean/condition6" />

        <!-- Search in field "identifier" -->
        <cell row="3" col="1" anchor="NORTHEAST" >
          <text i18n="Editor.Document.identifier"/>
        </cell>
        <cell row="3" col="2" colspan="2" anchor="WEST">
          <panel lines="off">  
            <cell row="1" col="1" anchor="WEST" var="conditions/boolean/condition4/@operator" ref="list.operators.identifier" />
            <cell row="1" col="2" anchor="WEST" var="conditions/boolean/condition4/@value">
              <textfield width="10" />
            </cell>
          </panel>
        </cell>
      </panel>
      </cell>
      
      <cell  row="3" col="3" colspan="2" anchor="NORTHWEST" >
      <panel>
        <hidden var="conditions/boolean/condition10/@field" default="dateCreated" />
  
        <!-- Search in field "format" with operator "=" -->
        <cell row="1" col="1" anchor="NORTHWEST" ref="LFormats" />     
        <cell row="1" col="2" anchor="NORTHWEST" ref="DFormats" var="conditions/boolean/condition7" />
   
        <!-- Search in field "type" with operator "=" -->
        <cell row="2" col="1" anchor="NORTHWEST" ref="LTypes" />     
        <cell row="2" col="2" anchor="NORTHWEST" ref="DTypes" var="conditions/boolean/condition9" />
        <!-- Search in field "dateCreated" -->
        <cell row="3" col="1" anchor="EAST">
          <text i18n="Editor.Document.datecr" />
        </cell>
        <cell row="3" col="2" colspan="2" anchor="WEST">
          <panel lines="off">  
            <cell row="1" col="1" anchor="WEST" var="conditions/boolean/condition10/@operator" ref="list.operators" />
            <cell row="1" col="2" anchor="WEST" var="conditions/boolean/condition10/@value">
              <textfield width="10" />
            </cell>
          </panel>
        </cell>  
      </panel>      
      </cell>             

      <cell row="10"  col="1" colspan="4" anchor="WEST">
        <hr />
        <text i18n="Editor.Search.filecont" />
      </cell>

      <cell row="12" col="1" colspan="2"  anchor="NORTHWEST" >
      <panel>
        <!-- Search in field "content" -->
        <hidden var="conditions/boolean/condition11/@field" default="content" />
        <cell row="1" col="1" anchor="EAST">
          <text i18n="Editor.Document.fulltext" />
        </cell>
        <cell row="1" col="2" anchor="WEST" var="conditions/boolean/condition11/@operator" ref="list.operators.text" />
        <cell row="1" col="3" anchor="WEST" var="conditions/boolean/condition11/@value">
          <textfield width="15" />
        </cell>
        <!-- Search in field "fileSize" -->
        <hidden var="conditions/boolean/condition13/@field" default="fileSize" />
        <cell row="2" col="1" anchor="EAST">
          <text i18n="Editor.Document.filesize" />
        </cell>
        <cell row="2" col="2" anchor="WEST" var="conditions/boolean/condition13/@operator" ref="list.operators" />
        <cell row="2" col="3" anchor="WEST" var="conditions/boolean/condition13/@value">
          <textfield width="15" />
        </cell>
      </panel>
      </cell>
      
      <cell row="12" col="3" anchor="NORTHWEST" >
      <panel>     
        <!-- Search in field "fileName" -->
        <hidden var="conditions/boolean/condition12/@field" default="fileName" />
        <cell row="1" col="1" anchor="EAST">
          <text i18n="Editor.Document.filename" />
        </cell>
        <cell row="1" col="2" anchor="WEST" var="conditions/boolean/condition12/@operator" ref="list.operators.identifier" />
        <cell row="1" col="3" anchor="WEST" var="conditions/boolean/condition12/@value">
          <textfield width="10" />
        </cell>

        <!-- Search in field "fileExtension" -->
        <hidden var="conditions/boolean/condition14/@field" default="fileExtension" />
        <cell row="2" col="1" anchor="EAST">
          <text i18n="Editor.Document.extension" />
        </cell>
        <cell row="2" col="2" anchor="WEST" var="conditions/boolean/condition14/@operator" ref="list.operators.identifier" />
        <cell row="2" col="3" anchor="WEST" var="conditions/boolean/condition14/@value">
          <textfield width="10" />
        </cell>
        <!-- Search in field "fileDateModified" -->
        <hidden var="conditions/boolean/condition15/@field" default="fileDateModified" />
        <cell row="3" col="1" anchor="EAST">
          <text i18n="Editor.Document.datemod" />
        </cell>
        <cell row="3" col="2" anchor="WEST" var="conditions/boolean/condition15/@operator" ref="list.operators" />
        <cell row="3" col="3" anchor="WEST" var="conditions/boolean/condition15/@value">
          <textfield width="10" />
        </cell>
      </panel>
      </cell>

     <cell row="17"  col="1" colspan="4" anchor="WEST">
       <hr />
       <panel lines="off">
          <cell row="1" col="1" anchor="WEST">
              <text i18n="Editor.Search.connect" />
          </cell>
          <cell row="1" col="2" anchor="WEST" var="conditions/boolean/@operator">
            <list type="dropdown" default="and">
              <item value="and" i18n="Editor.Search.and" />
              <item value="or" i18n="Editor.Search.or" />
            </list>
          </cell>                    
          <cell row="1" col="3" anchor="WEST">
            <text label="Maximal " />
          </cell>
          <cell row="1" col="4" anchor="WEST" var="@maxResults">
            <list type="dropdown" default="100">
              <item value="20"  label="20"   />
              <item value="100" label="100"  />
              <item value="500" label="500"  />            
              <item value="0"   i18n="Editor.Search.all" />
            </list>
          </cell>
          <cell row="1" col="5" anchor="WEST">
            <text i18n="Editor.Search.label" />
          </cell>
          <cell row="1" col="6" anchor="WEST" var="@numPerPage">
            <list type="dropdown" default="10">
              <item value="10" label="10" />
              <item value="20" label="20" />
              <item value="50" label="50" />
              <item value="0"  i18n="Editor.Search.all" />
            </list>
          </cell>
          <cell row="1" col="7" anchor="WEST">
             <text i18n="Editor.Search.perpage" />
          </cell>
        </panel>
      </cell>
     
      <cell row="19"  col="1" colspan="4" anchor="WEST" var="sortBy/field">
        <hr />
        <repeater min="1" max="3">
          <panel lines="off">
            <cell row="1" col="1" anchor="WEST" >
               <text i18n="Editor.Search.sortBy" />
            </cell>
            <cell row="1" col="2" anchor="WEST" var="@name">
              <list type="dropdown">
                <item value="" i18n="Editor.Common.choose" />
                <item value="title" i18n="Editor.Document.title" />
                <item value="author" i18n="Editor.Document.author" />
                <item value="dateCreated" i18n="Editor.Document.datecr" />
              </list>
            </cell>
            <cell row="1" col="3" anchor="WEST" var="@order">
              <list type="dropdown" default="ascending">
                <item value="ascending" i18n="Editor.Search.ascending" />
                <item value="descending" i18n="Editor.Search.descending" />
              </list>
            </cell>
          </panel>
        </repeater>
      </cell>          

      <cell row="22" col="1" colspan="4" anchor="EAST">
        <submitButton i18n="Editor.Search.search" width="150px" />
      </cell>
    </panel>
    
    <list type="dropdown" id="list.operators.text" default="contains">
      <item value="contains" i18n="Editor.Search.contains" />
      <item value="like" i18n="Editor.Search.like" />
      <item value="phrase" i18n="Editor.Search.phrases"/>
      <item value="="     label="="     />
      <item value="&gt;"  label="&gt;"  />
      <item value="&gt;=" label="&gt;=" />
      <item value="&lt;"  label="&lt;"  />
      <item value="&lt;=" label="&lt;=" />
    </list>

    <list type="dropdown" id="list.operators.identifier" default="like">
      <item value="like" i18n="Editor.Search.like"/>
      <item value="="     label="="     />
      <item value="&gt;"  label="&gt;"  />
      <item value="&gt;=" label="&gt;=" />
      <item value="&lt;"  label="&lt;"  />
      <item value="&lt;=" label="&lt;=" />
    </list>

    <list type="dropdown" id="list.operators" default="=">
      <item value="="     label="="     />
      <item value="&gt;"  label="&gt;"  />
      <item value="&gt;=" label="&gt;=" />
      <item value="&lt;"  label="&lt;"  />
      <item value="&lt;=" label="&lt;=" />
    </list>

  </components>

</editor>	  
</section>
</MyCoReWebPage>
