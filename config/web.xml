<?xml version="1.0" encoding="UTF-8"?>
<web-app>

    <display-name>JSP DOCPORTAL</display-name>
    <description>(A MyCoRe Sample)</description>

    <listener>
       <listener-class>org.mycore.frontend.jsp.ContextListener</listener-class>
    </listener>
    <listener>
       <listener-class>org.mycore.common.events.MCRServletContextListener</listener-class>
    </listener>
    <!-- FCK Editor Java Integration -->
    <servlet>
		<servlet-name>Connector</servlet-name>
		<servlet-class>com.fredck.FCKeditor.connector.ConnectorServlet</servlet-class>
		<init-param>
			<param-name>baseDir</param-name>
			<param-value>/UserFiles/</param-value>
		</init-param>
		<init-param>
			<param-name>debug</param-name>
			<param-value>true</param-value>
		</init-param>
		<load-on-startup>1</load-on-startup>
	</servlet>

	<servlet>
		<servlet-name>SimpleUploader</servlet-name>
		<servlet-class>com.fredck.FCKeditor.uploader.SimpleUploaderServlet</servlet-class>
		<init-param>
			<param-name>baseDir</param-name>
			<param-value>/UserFiles/</param-value>
		</init-param>
		<init-param>
			<param-name>debug</param-name>
			<param-value>true</param-value>
		</init-param>
		<init-param>
			<param-name>enabled</param-name>
			<param-value>false</param-value>
		</init-param>
		<init-param>
			<param-name>AllowedExtensionsFile</param-name>
			<param-value></param-value>
		</init-param>
		<init-param>
			<param-name>DeniedExtensionsFile</param-name>
			<param-value>php|php3|php5|phtml|asp|aspx|ascx|jsp|cfm|cfc|pl|bat|exe|dll|reg|cgi</param-value>
		</init-param>
		<init-param>
			<param-name>AllowedExtensionsImage</param-name>
			<param-value>jpg|gif|jpeg|png|bmp</param-value>
		</init-param>
		<init-param>
			<param-name>DeniedExtensionsImage</param-name>
			<param-value></param-value>
		</init-param>
		<init-param>
			<param-name>AllowedExtensionsFlash</param-name>
			<param-value>swf|fla</param-value>
		</init-param>
		<init-param>
			<param-name>DeniedExtensionsFlash</param-name>
			<param-value></param-value>
		</init-param>
		<load-on-startup>1</load-on-startup>
	</servlet>

    <!-- FCK Editor Java Integration  END-->
    
 <!-- 
	<filter>
       <filter-name>UrlRewriteFilter</filter-name>
       <filter-class>org.tuckey.web.filters.urlrewrite.UrlRewriteFilter</filter-class>
       <init-param>
	   		<param-name>logLevel</param-name>
    		<param-value>log4j</param-value>
    	</init-param>
    </filter>
    <filter-mapping>
        <filter-name>UrlRewriteFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>
 -->               

<!-- 
    <filter>
       <filter-name>SetCharacterEncoding</filter-name>
       <filter-class>org.mycore.filters.SetCharacterEncodingFilter</filter-class>
       <init-param>
          <param-name>encoding</param-name>
          <param-value>UTF-8</param-value>
       </init-param>
    </filter>

    <filter-mapping>
        <filter-name>SetCharacterEncoding</filter-name>
        <url-pattern>*.jsp</url-pattern>
    </filter-mapping>
-->
    
    
    <!-- servlets -->    
    <servlet id="FileNode">
         <servlet-name>MCRFileNodeServlet</servlet-name>
         <servlet-class>org.mycore.frontend.servlets.MCRJSPFileNodeServlet</servlet-class>
    </servlet>

    <servlet id="WFFileNode">
         <servlet-name>MCRWFFileNodeServlet</servlet-name>
         <servlet-class>org.mycore.frontend.servlets.MCRWFFileNodeServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>MCRWorkflowAccessRuleEditorServlet</servlet-name>
        <servlet-class>org.mycore.frontend.workflowengine.jbpm.MCRWorkflowAccessRuleEditorServlet</servlet-class>
    </servlet>
    
    <servlet>
        <servlet-name>MCRJSPSearchServlet</servlet-name>
        <servlet-class>org.mycore.frontend.servlets.MCRJSPSearchServlet</servlet-class>
    </servlet>    
    <servlet>
         <servlet-name>MCRJSPObjectServlet</servlet-name>
         <servlet-class>org.mycore.frontend.servlets.MCRJSPObjectServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>MCRUserValidateServlet</servlet-name>
        <servlet-class>org.mycore.frontend.admin.MCRUserValidateServlet</servlet-class>
    </servlet> 
    
    <servlet>
        <servlet-name>MCRUserGroupValidateServlet</servlet-name>
        <servlet-class>org.mycore.frontend.admin.MCRUserGroupValidateServlet</servlet-class>
    </servlet> 
        
    <servlet>
        <servlet-name>MCRRegisterUserWorkflowServlet</servlet-name>
        <servlet-class>org.mycore.frontend.workflowengine.jbpm.registeruser.MCRRegisterUserWorkflowServlet</servlet-class>
    </servlet> 

    <servlet>
        <servlet-name>MCRJbpmVariableSetterServlet</servlet-name>
        <servlet-class>org.mycore.frontend.workflowengine.jbpm.MCRJbpmVariableSetterServlet</servlet-class>
    </servlet>     
    
    <servlet>
        <servlet-name>MCRCheckDerivateServlet</servlet-name>
        <servlet-class>org.mycore.frontend.workflowengine.jbpm.MCRCheckDerivateServlet</servlet-class>
    </servlet>    
    
	<servlet>
        <servlet-name>MCRWorkflowActions</servlet-name>
        <servlet-class>org.mycore.frontend.workflowengine.jbpm.MCRWorkflowActions</servlet-class>
    </servlet>     
	
    <servlet>
        <servlet-name>NavServlet</servlet-name>
        <servlet-class>org.mycore.frontend.jsp.NavServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>LogoutServlet</servlet-name>
        <servlet-class>org.mycore.frontend.jsp.LogoutServlet</servlet-class>
    </servlet>
    
    <servlet>
        <servlet-name>MCREditorForwardServlet</servlet-name>
        <servlet-class>org.mycore.frontend.servlets.MCREditorForwardServlet</servlet-class>
    </servlet>
    
    <servlet>
        <servlet-name>EditorSubmitted</servlet-name>
        <servlet-class>org.mycore.frontend.jsp.DebugServlet</servlet-class>
    </servlet>
    
    <servlet>
        <servlet-name>DebugServlet</servlet-name>
        <servlet-class>org.mycore.frontend.jsp.DebugServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>MCRPassToTargetServlet</servlet-name>
        <servlet-class>org.mycore.frontend.workflowengine.jbpm.MCRPassToTargetServlet</servlet-class>
    </servlet>     
    
    <servlet>
        <servlet-name>MCRCheckMetadataServlet</servlet-name>
        <servlet-class>org.mycore.frontend.workflowengine.jbpm.MCRCheckMetadataServlet</servlet-class>
    </servlet>      
            
    <servlet>
    	  <servlet-name>MCRWorkflowForEditingStartServlet</servlet-name>
      	  <servlet-class>org.mycore.frontend.workflowengine.jbpm.MCRWorkflowForEditingStartServlet</servlet-class>
    </servlet>
    
      
      <!-- mycore servlets -->
    
      <servlet id="Layout">
            <servlet-name>MCRLayoutServlet</servlet-name>
            <servlet-class>org.mycore.common.xml.MCRLayoutServlet</servlet-class>
      </servlet>
      <servlet id="NBNResolver">
            <servlet-name>MCRNBNResolver</servlet-name>
            <servlet-class>org.mycore.services.nbn.MCRNBNResolver</servlet-class>
      </servlet>
      <servlet id="OAIProvider">
            <servlet-name>MCROAIProvider</servlet-name>
            <servlet-class>org.mycore.services.oai.MCROAIProvider</servlet-class>
      </servlet>
      <servlet id="Query">
            <servlet-name>MCRQueryServlet</servlet-name>
            <servlet-class>org.mycore.services.query.MCRQueryServlet</servlet-class>
      </servlet>
      <servlet id="StaticXMLFile">
            <servlet-name>MCRStaticXMLFileServlet</servlet-name>
            <servlet-class>org.mycore.frontend.servlets.MCRStaticXMLFileServlet</servlet-class>
      </servlet>
      <servlet id="XMLEditor">
            <servlet-name>XMLEditor</servlet-name>
            <servlet-class> org.mycore.frontend.editor.MCREditorServlet </servlet-class>
      </servlet>
      <servlet id="MCRClassBrowser">
            <servlet-name>MCRClassificationBrowser</servlet-name>
            <servlet-class>org.mycore.frontend.servlets.MCRClassificationBrowser</servlet-class>
      </servlet>
      <servlet id="MCRUpload">
            <servlet-name>MCRUploadServlet</servlet-name>
            <servlet-class>org.mycore.frontend.fileupload.MCRUploadServlet</servlet-class>
      </servlet>
      <servlet id="Zip">
            <servlet-name>MCRZipServlet</servlet-name>
            <servlet-class>org.mycore.services.zipper.MCRZipServlet</servlet-class>
      </servlet>    
      <servlet id="IndexBrowserServlet">
            <servlet-name>MCRIndexBrowserServlet</servlet-name>
            <servlet-class>org.mycore.frontend.indexbrowser.MCRIndexBrowserServlet</servlet-class>
      </servlet>    
      <servlet id="IndexBrowser">
            <servlet-name>MCRIndexServlet</servlet-name>
            <servlet-class>org.mycore.frontend.indexbrowser.MCRIndexServlet</servlet-class>
      </servlet>    
      <servlet id="MCRAccessCheckServlet">
            <servlet-name>MCRAccessCheckServlet</servlet-name>
            <servlet-class>org.mycore.access.MCRAccessCheckServlet</servlet-class>
      </servlet>
      <servlet id=" MCRZipWebcontentServlet">
            <servlet-name> MCRZipWebcontentServlet</servlet-name>
            <servlet-class> org.mycore.frontend.servlets.MCRZipWebcontentServlet</servlet-class>
      </servlet>
    <!-- servlet mappings -->
    
    <!-- FCK Editor Java Integration  -->

    
   <servlet-mapping>
	   <servlet-name>Connector</servlet-name>
    	<url-pattern>/FCKeditor/web/editor/filemanager/browser/default/connectors/jsp/connector</url-pattern>
	</servlet-mapping>
  
  <servlet-mapping>
    <servlet-name>SimpleUploader</servlet-name>
    <url-pattern>/FCKeditor/web/editor/filemanager/upload/simpleuploader</url-pattern>
  </servlet-mapping>  

    <!-- FCK Editor Java Integration  -->

    
    <servlet-mapping>
        <servlet-name>MCRWorkflowAccessRuleEditorServlet</servlet-name>
        <url-pattern>/servlets/MCRWorkflowAccessRules</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
               <servlet-name>MCRJSPSearchServlet</servlet-name>
               <url-pattern>/servlets/MCRJSPSearchServlet</url-pattern>
    </servlet-mapping>   

    <servlet-mapping>
         <servlet-name>MCRJSPObjectServlet</servlet-name>
         <url-pattern>/receive/*</url-pattern>
    </servlet-mapping>

	<servlet-mapping>
		<servlet-name>MCRJSPObjectServlet</servlet-name>
		<url-pattern>/metadata/*</url-pattern>
	</servlet-mapping>

    <servlet-mapping>
        <servlet-name>MCRUserValidateServlet</servlet-name>
        <url-pattern>/servlets/MCRUserValidateServlet</url-pattern>
    </servlet-mapping> 

    <servlet-mapping>
        <servlet-name>MCRUserGroupValidateServlet</servlet-name>
        <url-pattern>/servlets/MCRUserGroupValidateServlet</url-pattern>
    </servlet-mapping> 

    <servlet-mapping>
        <servlet-name>MCRRegisterUserWorkflowServlet</servlet-name>
        <url-pattern>/servlets/MCRRegisterUserWorkflowServlet</url-pattern>
    </servlet-mapping> 
    
    <servlet-mapping>
        <servlet-name>MCRJbpmVariableSetterServlet</servlet-name>
        <url-pattern>/setworkflowvariable</url-pattern>
    </servlet-mapping>     

    <servlet-mapping>
        <servlet-name>MCRCheckDerivateServlet</servlet-name>
        <url-pattern>/servlets/MCRCheckDerivateServlet</url-pattern>
    </servlet-mapping>

   <servlet-mapping>
        <servlet-name>MCRWorkflowActions</servlet-name>
        <url-pattern>/workflowaction</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
	    <servlet-name>NavServlet</servlet-name>
	    <url-pattern>/nav</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>LogoutServlet</servlet-name>
        <url-pattern>/logout</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>MCREditorForwardServlet</servlet-name>
        <url-pattern>/editor-forward/*</url-pattern>
    </servlet-mapping>
    
    <servlet-mapping>
        <servlet-name>EditorSubmitted</servlet-name>
        <url-pattern>/submitted</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>DebugServlet</servlet-name>
        <url-pattern>/debug</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>MCRPassToTargetServlet</servlet-name>
        <url-pattern>/servlets/MCRPassToTargetServlet/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>MCRCheckMetadataServlet</servlet-name>
        <url-pattern>/servlets/MCRCheckMetadataServlet/*</url-pattern>
    </servlet-mapping>    

    <servlet-mapping>
    	<servlet-name>MCRWorkflowForEditingStartServlet</servlet-name>
		<url-pattern>/StartEdit</url-pattern>
    </servlet-mapping> 

    <servlet-mapping>
         <servlet-name>MCRWFFileNodeServlet</servlet-name>
         <url-pattern>/wffile/*</url-pattern>
    </servlet-mapping>


	<!--  mycore servlets mapping  -->

    <servlet-mapping>
         <servlet-name>MCRFileNodeServlet</servlet-name>
         <url-pattern>/servlets/MCRFileNodeServlet/*</url-pattern>
    </servlet-mapping>
    
    <servlet-mapping>
         <servlet-name>MCRFileNodeServlet</servlet-name>
         <url-pattern>/file/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
         <servlet-name>MCRNBNResolver</servlet-name>
         <url-pattern>/servlets/MCRNBNResolver</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
	    <servlet-name>MCRNBNResolver</servlet-name>
         <url-pattern>/servlets/MCRNBNResolver/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
         <servlet-name>MCROAIProvider</servlet-name>
         <url-pattern>/servlets/MCROAIProvider</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
         <servlet-name>MCRQueryServlet</servlet-name>
         <url-pattern>/servlets/MCRQueryServlet</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
         <servlet-name>MCRStaticXMLFileServlet</servlet-name>
         <url-pattern>*.xml</url-pattern>
    </servlet-mapping>

     <servlet-mapping>
           <servlet-name>XMLEditor</servlet-name>
           <url-pattern>/servlets/XMLEditor</url-pattern>
     </servlet-mapping>


    <servlet-mapping>
         <servlet-name>MCRClassificationBrowser</servlet-name>
         <url-pattern>/browse/*</url-pattern>
    </servlet-mapping>

     <servlet-mapping>
           <servlet-name>MCRUploadServlet</servlet-name>
           <url-pattern>/servlets/MCRUploadServlet</url-pattern>
     </servlet-mapping>

     <servlet-mapping>
           <servlet-name>MCRZipServlet</servlet-name>
           <url-pattern>/servlets/MCRZipServlet</url-pattern>
     </servlet-mapping>

     <servlet-mapping>
           <servlet-name>MCRZipServlet</servlet-name>
           <url-pattern>/zip</url-pattern>
     </servlet-mapping>
     
     <servlet-mapping>
        <servlet-name>MCRIndexBrowserServlet</servlet-name>
        <url-pattern>/servlets/IndexBrowserServlet</url-pattern>
     </servlet-mapping>
      
     <servlet-mapping>
        <servlet-name>MCRIndexBrowserServlet</servlet-name>
        <url-pattern>/indexpage</url-pattern>
     </servlet-mapping>
      
     <servlet-mapping>
        <servlet-name>MCRIndexServlet</servlet-name>
        <url-pattern>/servlets/IndexServlet/*</url-pattern>
     </servlet-mapping>
      
     <servlet-mapping>
        <servlet-name>MCRIndexServlet</servlet-name>
        <url-pattern>/index/*</url-pattern>
     </servlet-mapping>

     <servlet-mapping>
           <servlet-name>MCRAccessCheckServlet</servlet-name>
           <url-pattern>/servlets/MCRAccessCheckServlet</url-pattern>
     </servlet-mapping>

     <servlet-mapping>
           <servlet-name>MCRZipWebcontentServlet</servlet-name>
           <url-pattern>/zipwebcontent</url-pattern>
     </servlet-mapping>

    <!-- specific servlets -->

    <welcome-file-list>
    <welcome-file>nav</welcome-file>
    </welcome-file-list>
    <error-page>
        <exception-type>java.lang.Throwable</exception-type>
        <location>/error.jsp</location>
    </error-page>

  <jsp-config>
    <taglib>
        <taglib-uri>/WEB-INF/lib/mycore-taglibs.jar</taglib-uri>
        <taglib-location>/WEB-INF/lib/mycore-taglibs.jar</taglib-location>
    </taglib>
    <jsp-property-group>
      <url-pattern>*.jsp</url-pattern>
    </jsp-property-group>
    <jsp-property-group>
      <description>Indicate that the files with 'xjsp' extension are JSP documents</description>
      <url-pattern>*.jspx</url-pattern>
      <is-xml>true</is-xml>
    </jsp-property-group>    
  </jsp-config>  
  
</web-app>