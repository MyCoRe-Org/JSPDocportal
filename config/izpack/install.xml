<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

<!-- 
    An izpack install xml file for the mycore-jspdocportal sample
    
    To compile it :
    - go in your folder "myapplication" and run
      ant create.izpack.installer
      
    [[- go in the bin directory where you installed IzPack
    - call "compile ../sample/install.xml -b ../sample"]]
-->

<installation version="1.0">

    <info>
        <appname>MyCoRe JSP-Sample</appname>
        <appversion>1.3 beta 2</appversion>
        <authors>
            <author name="The MyCoRe Community" email="mycore@mycore.de"/>
        </authors>
        <url>http://www.mycore.de/</url>
    </info>
    
    <variables>
       <variable name="JDKPathPanel.skipIfValid" value="yes"/>
    </variables>    
    

    <!-- 
        The gui preferences indication.
        Sets the installer window to 640x480. It will not be able to change the size.
    -->
    <guiprefs width="640" height="480" resizable="no"/>
    
    <!-- 
        The locale section.
        Asks here to include the German and English langpacks.
    -->
    <locale>
        <langpack iso3="deu"/>
        <langpack iso3="eng"/>
    </locale>
    
    <!-- 
        The resources section.
        The ids must be these ones if you want to use the LicencePanel and/or the InfoPanel.
    -->
    <resources>
        <res id="LicencePanel.licence" src="config/izpack/Licence.txt"/>
        <res id="InfoPanel.info" src="config/izpack/Readme.txt"/>
        <res id="userInputSpec.xml" src="config/izpack/userInputSpec.xml"/>
        <res id="userInputLang.xml_eng" src="config/izpack/userInputLang.xml_eng"/>
        <res id="userInputLang.xml_deu" src="config/izpack/userInputLang.xml_deu"/>
    </resources>
    
    <!-- 
        The panels section.
        We indicate here which panels we want to use. The order will be respected.
    -->
    <panels>
        <panel classname="HelloPanel"/>
        <panel classname="JDKPathPanel" />
        <panel classname="InfoPanel"/>
        <panel classname="LicencePanel"/>
        <panel classname="TargetPanel"/> 
        <panel classname="UserInputPanel"/> 
        <panel classname="PacksPanel"/>
        <panel classname="InstallPanel"/>
        <panel classname="SimpleFinishPanel"/>
    </panels>
    
    <!-- 
        The packs section.
        We specify here our packs.
    -->
    <packs>
        <pack name="jsp-sample" required="yes">
            <description>The JSP SAMPLE</description>
            <file src="../demo.jar" targetdir="$INSTALL_PATH" />
            <file src="../mycore-working" targetdir="$INSTALL_PATH"/>
            <file src="../mycore" targetdir="$INSTALL_PATH"/>
            <file src="../jspdocportal" targetdir="$INSTALL_PATH"/>
            <file src="build.xml" targetdir="$INSTALL_PATH/myapplication"/>            
            <file src="config" targetdir="$INSTALL_PATH/myapplication"/>             
            <file src="content" targetdir="$INSTALL_PATH/myapplication"/>             
            <file src="languages" targetdir="$INSTALL_PATH/myapplication"/> 
            <file src="lib" targetdir="$INSTALL_PATH/myapplication"/> 
            <file src="sources" targetdir="$INSTALL_PATH/myapplication"/> 
            <file src="stylesheets" targetdir="$INSTALL_PATH/myapplication"/> 
            <file src="tests" targetdir="$INSTALL_PATH/myapplication"/>
            <file src="webpages" targetdir="$INSTALL_PATH/myapplication"/>             
			<file src="config/izpack/Readme.txt" targetdir="$INSTALL_PATH"/>
            <file src="config/izpack/Licence.txt" targetdir="$INSTALL_PATH"/>
            <file src="config/izpack/start.bat" targetdir="$INSTALL_PATH"/>
            <file src="config/izpack/start.sh" targetdir="$INSTALL_PATH"/>
            <file src="config/izpack/stop.bat" targetdir="$INSTALL_PATH"/>
            <file src="config/izpack/stop.sh" targetdir="$INSTALL_PATH"/>            
            <singlefile src="config/izpack/mycore.properties.izpack" target="$INSTALL_PATH/myapplication/config/mycore.properties" overwrite="true" />
            <singlefile src="config/izpack/mycore.properties.izpack" target="$INSTALL_PATH/mycore-working/config/mycore.properties" overwrite="true" />
            <singlefile src="config/izpack/mycore.properties.izpack" target="$INSTALL_PATH/mycore-working/webapps/mycoresample/WEB-INF/classes/mycore.properties" overwrite="true" />
            <singlefile src="config/izpack/jbpm_hibernate.cfg.xml.izpack" target="$INSTALL_PATH/myapplication/config/workflow/jbpm_hibernate.cfg.xml" overwrite="true" />
            <singlefile src="config/izpack/jbpm_hibernate.cfg.xml.izpack" target="$INSTALL_PATH/mycore-working/config/workflow/jbpm_hibernate.cfg.xml" overwrite="true" />
            <singlefile src="config/izpack/jbpm_hibernate.cfg.xml.izpack" target="$INSTALL_PATH/mycore-working/webapps/mycoresample/WEB-INF/classes/workflow/jbpm_hibernate.cfg.xml" overwrite="true" />                        
            <parsable targetfile="$INSTALL_PATH/myapplication/config/mycore.properties" type="javaprop" />
            <parsable targetfile="$INSTALL_PATH/mycore-working/config/mycore.properties" type="javaprop" />
			<parsable targetfile="$INSTALL_PATH/mycore-working/webapps/mycoresample/WEB-INF/classes/mycore.properties" type="javaprop" />
			<parsable targetfile="$INSTALL_PATH/myapplication/config/workflow/jbpm_hibernate.cfg.xml" type="xml" />	
			<parsable targetfile="$INSTALL_PATH/mycore-working/config/workflow/jbpm_hibernate.cfg.xml" type="xml" />	
			<parsable targetfile="$INSTALL_PATH/mycore-working/webapps/mycoresample/WEB-INF/classes/workflow/jbpm_hibernate.cfg.xml" type="xml" />
			<parsable targetfile="$INSTALL_PATH/start.bat" type="plain" />
			<parsable targetfile="$INSTALL_PATH/start.sh" type="shell" />
			<parsable targetfile="$INSTALL_PATH/stop.bat" type="plain" />
			<parsable targetfile="$INSTALL_PATH/stop.sh" type="shell" />						
			<executable targetfile="$INSTALL_PATH/start.bat" os="windows" stage="never" keep="true" />
			<executable targetfile="$INSTALL_PATH/start.sh" os="linux" stage="never" keep="true" />
			<executable targetfile="$INSTALL_PATH/stop.bat" os="windows" stage="never" keep="true" />
			<executable targetfile="$INSTALL_PATH/stop.sh" os="linux" stage="never" keep="true" />			
		</pack>
		<pack name="Default-Data" required="no">
		    <description>Example-Content for the application</description>
		    <file src="../tmpsampledata/dtd" targetdir="$INSTALL_PATH/sample-data" />
		    <file src="../tmpsampledata/export" targetdir="$INSTALL_PATH/sample-data" />
		    <file src="../tmpsampledata/filestore" targetdir="$INSTALL_PATH/sample-data" />
		    <file src="../tmpsampledata/hsqldb-data" targetdir="$INSTALL_PATH/sample-data" />
		    <file src="../tmpsampledata/indexer" targetdir="$INSTALL_PATH/sample-data" />
		    <file src="../tmpsampledata/keystore" targetdir="$INSTALL_PATH/sample-data" />
		    <file src="../tmpsampledata/log" targetdir="$INSTALL_PATH/sample-data" />
		    <file src="../tmpsampledata/save" targetdir="$INSTALL_PATH/sample-data" />		    
		</pack>		
    </packs>
    <!-- 
    <packs>
        <pack name="Base" required="yes">
            <description>The base files</description>
            <file src="Readme.txt" targetdir="$INSTALL_PATH"/>
            <file src="Licence.txt" targetdir="$INSTALL_PATH"/>
            <file src="script.bat" targetdir="$INSTALL_PATH"/>
            <parsable targetfile="$INSTALL_PATH/script.bat"/> 
        </pack>
        <pack name="Docs" required="no">
            <description>The documentation</description>
            <file src="doc" targetdir="$INSTALL_PATH"/> 
        </pack>
        <pack name="Sources" required="no">
            <description>The sources</description>
            <file src="src" targetdir="$INSTALL_PATH"/>
        </pack>
    </packs>
    -->
</installation>
